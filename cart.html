<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>燭間 - 購物車</title>
    <link rel="stylesheet" href="assets/CSS/style.css">
    <link rel="stylesheet" href="assets/CSS/member.css">
    <link rel="stylesheet" href="assets/CSS/cart.css">
    <link rel="stylesheet" href="assets/CSS/floatwin.css">
    <script src="https://use.fontawesome.com/739a6a53ed.js"></script>
</head>
<body>
    <nav>
        <div class="burger" onclick="burgerFunction(this); showsidenav();">
            <div class="top"></div>
            <div class="mid"></div>
            <div class="bottom"></div>
        </div>
        <a href="index.html" class="logo">燭間</a>
        <div class="nav-links">
            <ul class="nav-ul">
                <li class="cart"><a href="cart.html">購物車</a>
                    <ul class="drop-cart">
                        <li>
                            <div class="cart-product">
                                <img src="assets/IMG/dicandle.jpg" alt="">
                                <h2>購物車商品</h2>
                                <p>商品數量:1</p>
                            </div>
                        </li>
                        <li>
                            <div class="cart-product">
                                <img src="assets/IMG/dicandle.jpg" alt="">
                                <h2>購物車商品</h2>
                                <p>商品數量:1</p>
                            </div>
                        </li>
                        <li>
                            <div class="cart-product">
                                <img src="assets/IMG/dicandle.jpg" alt="">
                                <h2>購物車商品</h2>
                                <p>商品數量:1</p>
                            </div>
                        </li>
                        <li><a href="cart.html">查看所有購物車商品</a></li>
                        <button class="buybtn"><a href="#">結帳</a></button>
                    </ul>
                </li>
                <li class="member"><a href="#"
                        onclick="document.getElementById('wincon').style.display='block';document.getElementById('dklayer').style.display='block'">會員中心</a>
                </li>
                <li class="contact"><a href="about.html">關於我們</a></li>
            </ul>
        </div>
    </nav>
    <div class="Sidenav" id="Sidenav">
        <ul>
            <a href="lelabo.html"><li>Le Labo</li></a>
            <a href="aesop.html"><li>Aesop</li></a>
            <a href="diptyque.html"><li>Diptyque</li></a>
            <a href="about.html"><li class="phonefunc">關於我們</li></a>
            <a href="#"><li class="phonefunc"
                onclick="document.getElementById('wincon').style.display='block';document.getElementById('dklayer').style.display='block'">
                會員</li></a>
        </ul>
    </div>
    <div class="menu">
        <ul>
            <li><a href="member.html">會員資料</a></li>
            <li class="selected"><a href="cart.html">購物車</a></li>
            <li><a href="order.html">訂單查詢</a></li>
        </ul>
    </div>
    
        <form action="#" class="cart-details">
            <div class="cart-title">商品名稱</div>
            <div class="cart-title">商品數量</div>
            <div class="cart-title">小記</div>
            <div class="cart-title">刪除</div>
            <!-- <!4個div.product一列!> -->
            <div class="grid-container">
                <div class="product">
                    <img src="assets/IMG/aecandle1.png" alt="">
                    <div class="candetail">
                    <h3>阿加尼斯</h3>
                    <p>商品金額:<span class="productPrice">3300</span></p>
                    </div>
                </div>
                <div class="product info">
                    <div class="quantity">
                        <input type="button" class="minusbtn" value="-">
                        <input type="number" value="1" class="quantityNum" readonly>
                        <input type="button" class="plusbtn" value="+">
                    </div>
                </div>
                <div class="product info">
                    <h3>$<span class="rowTotal">3300</span></h3>
                </div>
                <div class="product info">
                    <button class="removebtn" onclick="return false;"><i class="fa fa-trash-o" aria-hidden="true"></i></button>
                </div>
            </div>
            <!-- <!到這是一列!> -->
            <div class="grid-container">
                <div class="product">
                    <img src="assets/IMG/dicandle2.png" alt="">
                    <div class="candetail">
                    <h3>玫瑰 600g</h3>
                    <p>商品金額:<span class="productPrice">5900</span></p>
                </div>
                </div>
                <div class="product info">
                    <div class="quantity">
                        <input type="button" class="minusbtn" value="-">
                        <input type="number" value="1" class="quantityNum" readonly>
                        <input type="button" class="plusbtn" value="+">
                    </div>
                </div>
                <div class="product info">
                    <h3>$<span class="rowTotal">5900</span></h3>
                </div>
                <div class="product info">
                    <button class="removebtn" onclick="return false;"><i class="fa fa-trash-o" aria-hidden="true"></i></button>
                </div>
            </div>
            <div class="grid-container">
                <div class="product">
                    <img src="assets/IMG/dicandle1.jpg" alt="">
                    <div class="candetail">
                    <h3>沉香190g</h3>
                    <p>商品金額:<span class="productPrice">2100</span></p>
                    </div>
                </div>
                <div class="product info">
                    <div class="quantity">
                        <input type="button" class="minusbtn" value="-">
                        <input type="number" value="1" class="quantityNum" readonly>
                        <input type="button" class="plusbtn" value="+">
                    </div>
                </div>
                <div class="product info">
                    <h3>$<span class="rowTotal">2100</span></h3>
                </div>
                <div class="product info">
                    <button class="removebtn" onclick="return false;"><i class="fa fa-trash-o" aria-hidden="true"></i></button>
                </div>
            </div>
            <hr width="100%" color="#000">
            <select name="" id="">
                <option value="貨到付款">貨到付款</option>
                <option value="visa卡付款">visa卡付款</option>
                <option value="7-11 ibon付款">7-11 ibon付款</option>
            </select>
            <p class="checkout">總金額:</p>
            <p class="checkout">$<span class="subtotal" id="demo">11300</span></p>
            <div class="submitbtn">
                <input type="submit" value="確定購買">
            </div>
        </form>
        <div id="wincon" class="wincontent">
            <div class="sign">
                <a href="#" onclick="document.getElementById('signin').style.display='block';
        document.getElementById('signup').style.display='none'">
                    <div class="signbtn">Sign in</div>
                </a>
                <div class="sep"></div>
                <a href="#" onclick="document.getElementById('signin').style.display='none';
        document.getElementById('signup').style.display='block'">
                    <div class="signbtn1">Sign up</div>
                </a>
            </div>
            <div class="login" id="signin">
                <form>
                    信箱：<input type="email" class="enterplace" required><br>
                    密碼：<input type="password" class="enterplace" required><br>
                    <input type="submit" class="logbtn" value="登入">
                    <input type="reset" class="logbtn" value="關閉" onclick="document.getElementById('wincon').style.display='none';
           document.getElementById('dklayer').style.display='none'">
                </form>
            </div>
            <div class="login" id="signup">
                <form>
                    姓名：<input type="text" class="enterplace" required><br>
                    信箱：<input type="email" class="enterplace" required><br>
                    密碼：<input type="password" class="enterplace" required><br>
                    <input type="submit" class="logbtn" value="加入會員">
                    <input type="reset" class="logbtn" value="關閉" onclick="document.getElementById('wincon').style.display='none';
           document.getElementById('dklayer').style.display='none'">
                </form>
            </div>
        </div>
        <div id="dklayer" class="darklayer"></div>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
        function Goindex() {
            window.location.href = 'index.html';
        }
        $(function(){
			$(".plusbtn").click(function(){
			const quantity = $(this).parent().find('input[class*=quantityNum]');
            quantity.val(parseInt(quantity.val())+1);
            updateQuantity(quantity);
			})
			$(".minusbtn").click(function(){
			const quantity = $(this).parent().find("input[class*=quantityNum]");
			quantity.val(parseInt(quantity.val())-1);
			if(parseInt(quantity.val())<1){
			quantity.val(1);
			}
            updateQuantity(quantity);
		})
    })
    function updateQuantity(quantity){
        var productRow = $(quantity);
        var productPrice = parseInt($(quantity).parents().eq(2).find('.productPrice').text(), 10);
        var productQuantity = $(quantity).val();
        var rowTotal = productPrice*productQuantity;
        console.log(rowTotal);
        $(quantity).parents().eq(2).find('.rowTotal').text(rowTotal);
        recalculate();
    }
    function recalculate(){
        var total = 0;
        $('.grid-container').each(function(){
            total += parseInt($(this).children().find('.rowTotal').text(), 10);
            console.log(total);
            $(this).parent().find('.subtotal').text(total);
        })
    }
    $('.product button').click(function() {
        removeItem(this);
    });
    function removeItem(removeButton){
        var productRow = $(removeButton).parent().parent();
        productRow.fadeOut(200, function() {
            productRow.remove();
            recalculate();
    });
    }
    </script>
    <script type="text/javascript" src="assets/JS/main.js"></script>
</body>
</html>